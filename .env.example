# New Relic license key (required for sending data to New Relic)
NR_LICENSE_KEY=your-license-key-here

# Installation mode: kubernetes or docker
NRDOT_MODE=kubernetes

# Container image settings
NRDOT_REGISTRY=ghcr.io/your-org
NRDOT_IMAGE_NAME=nrdot-reservoir
NRDOT_TAG=v0.1.0

# Kubernetes settings (if using kubernetes mode)
NRDOT_NAMESPACE=observability
NRDOT_RELEASE_NAME=nr-otel

# Reservoir sampler configuration
# -------------------------------
# Reservoir size (number of traces to keep)
RESERVOIR_SIZE_K=5000

# Sampling window duration
RESERVOIR_WINDOW_DURATION=60s

# How often to save checkpoint state
RESERVOIR_CHECKPOINT_INTERVAL=10s

# Whether to preserve complete traces (true or false)
RESERVOIR_TRACE_AWARE=true

# Maximum spans to buffer while waiting for trace completion
RESERVOIR_BUFFER_SIZE=100000

# Maximum time to wait for spans in a trace
RESERVOIR_BUFFER_TIMEOUT=30s

# Database compaction schedule (cron format)
RESERVOIR_COMPACTION_CRON="0 2 * * 0"

# Persistent volume size (for Kubernetes)
RESERVOIR_PERSISTENCE_SIZE=1Gi

# Path to checkpoint file
RESERVOIR_CHECKPOINT_PATH=/var/otelpersist/reservoir.db