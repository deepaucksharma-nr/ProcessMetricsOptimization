# Trace-Aware Reservoir OpenTelemetry Configuration
# Copy this file to .env and modify as needed

# VM Configuration
VM_NAME=monitoring-vm
VM_CPU=2
VM_MEMORY=4G
VM_DISK=10G
K8S_VERSION=1.27.0

# Kubernetes Configuration
NAMESPACE=monitoring-suite
NRIA_DEPLOYMENT_NAME=nria-deployment
OTEL_DEPLOYMENT_NAME=otel-deployment
OTEL_PROCESSOR_DEPLOYMENT_NAME=otel-processor-deployment

# New Relic Configuration
# Note: For OpenTelemetry OTLP ingest, your Ingest License Key is used as the API key in headers
NR_LICENSE_KEY=your_license_key_here
# Optional: Only needed if using New Relic REST APIs
NR_USER_API_KEY=your_user_api_key_here
NR_ACCOUNT_ID=your_account_id_here
NR_ENDPOINT=https://otlp.nr-data.net:4318

# NRIA Configuration
NRIA_DISPLAY_NAME_SUFFIX=infra

# OpenTelemetry Configuration
OTEL_DISPLAY_NAME_SUFFIX=nrdot
OTEL_PROCESSOR_DISPLAY_NAME_SUFFIX=nrdot-plus
OTEL_IMAGE=otel/opentelemetry-collector-contrib:latest
OTEL_METRICS_COLLECTION_INTERVAL=15s
OTEL_SERVICE_NAME=vm-monitoring-service

# Processor Configuration
RESERVOIR_SIZE_K=1000
WINDOW_DURATION=1m
TRACE_AWARE=true
TRACE_BUFFER_MAX_SIZE=10000
TRACE_BUFFER_TIMEOUT=30s
CHECKPOINT_PATH=/data/checkpoint
CHECKPOINT_INTERVAL=1m
DB_COMPACTION_SCHEDULE=0 0 * * *
DB_COMPACTION_TARGET_SIZE=104857600

# Storage Configuration
PVC_NAME=checkpoint-pvc
PVC_SIZE=1Gi
PVC_STORAGE_CLASS=standard

# Network Configuration
OTLP_GRPC_PORT=4317
OTLP_HTTP_PORT=4318